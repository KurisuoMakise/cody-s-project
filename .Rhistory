geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin=min(value),ymax=max(value),x = hour),alpha = 0.3)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin=min(value,na.rm = TRUE),ymax=max(value,na.rm = TRUE),x = hour),alpha = 0.3)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(alpha = 0.3)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary",show.legend = T)
ggplot(data) +
geom_ribbon(aes(hour,value,color = name))
ggplot(data) +
geom_ribbon(aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary",show.legend = T)
ggplot(data,aes(hour,value,color = name)) +
geom_ribbon(aes(ymin = min(value),ymax = max(value),x = hour)) +
geom_point(stat="summary") +
geom_line(stat="summary",show.legend = T)
ggplot(data,aes(hour,value,color = name)) +
geom_ribbon(stat = "mean_sd",aes(ymin = min(value),ymax = max(value),x = hour)) +
geom_point(stat="summary") +
geom_line(stat="summary")
ggplot(data,aes(hour,value,color = name)) +
geom_ribbon(stat = "mean",aes(ymin = min(value),ymax = max(value),x = hour)) +
geom_point(stat="summary") +
geom_line(stat="summary")
ggplot(data,aes(hour,value,color = name)) +
geom_ribbon(stat = "mean",aes(ymin = 0,ymax = value,x = hour)) +
geom_point(stat="summary") +
geom_line(stat="summary")
ggplot(data,aes(hour,value,color = name)) +
geom_ribbon(aes(ymin = 0,ymax = value,x = hour)) +
geom_point(stat="summary") +
geom_line(stat="summary")
ggplot(data,aes(hour,value,color = name)) +
geom_ribbon() +
geom_point(stat="summary") +
geom_line(stat="summary")
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(show.legend = FALSE)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin = 0,ymax = value,x = hour),show.legend = FALSE)
data <- flights %>%
select(hour, dep_delay, arr_delay) %>%
mutate(max = max(value)) %>%
filter(hour> 4) %>%
pivot_longer(!hour)
data <- flights %>%
data <- flights %>%
library(dplyr)
data <- flights %>%
select(hour, dep_delay, arr_delay) %>%
filter(hour> 4) %>%
pivot_longer(!hour) %>%
mutate(r = value^2 + 0.5*value) %>%
mutate(l = value^2 - 0.5*value)
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(nycflights13)
library(magrittr)
library(dplyr)
data <- flights %>%
select(hour, dep_delay, arr_delay) %>%
filter(hour> 4) %>%
pivot_longer(!hour) %>%
mutate(r = value^2 + 0.5*value) %>%
mutate(l = value^2 - 0.5*value)
View(data)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin = l,ymax = r,x = hour),alpha = 0.3)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin = l,ymax = r),alpha = 0.3)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin = l,ymax = r,x = x),alpha = 0.3)
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon(aes(ymin = l,ymax = r,x = hour),alpha = 0.3)
ggplot(data,aes(hour,value,ymin = value - l,ymax = value + r,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary")
ggplot(data,aes(hour,value,ymin = value - l,ymax = value + r,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon()
ggplot(data,aes(hour,value,color = name)) +
geom_point(stat="summary") +
geom_line(stat="summary") +
geom_ribbon()
num <- {1,2,3}
num <- list(1,2,3)
num
num <- array(1,2,3)
num[1]
num <- list(c(1,3))
num[1]
num <- list(1302,1333,1290,1171,1176,1123,1095,1096)
print(i)
for(i in 1:8){
print(i)
}
list[i]
for(i in 1:8){
list[i]
}
for(i in 1:8){
num[i]
}
for(i in 1:8){
print(num[i])
}
for(i in 1:8){
print(1302/num[i])
}
for(i in 1:8){
print(1302/as.integer(num[i]))
}
for(i in 1:8){
print(as.integer(num[i])/1365.58+37.24*4.5))
}
for(i in 1:8){
print(as.integer(num[i])/(1365.58+37.24*4.5))
}
for(i in 1:8){
print(as.integer(num[i])/(1365.58+37.24*i))
}
for(i in 1:8){
print(1365.58+37.24*i)
print(as.integer(num[i])/(1365.58+37.24*i))
}
for(i in 1:8){
print(1365.58+37.24*i)
#print(as.integer(num[i])/(1365.58+37.24*i))
}
for(i in 1:8){
print(1365.58-37.24*i)
#print(as.integer(num[i])/(1365.58+37.24*i))
}
a <- list()
for(i in 1:8){
print(1365.58-37.24*i)
a[i] <- as.integer(num[i])/(1365.58+37.24*i)
}
for(i in 1:8){
print(1365.58-37.24*i)
a[i] <- as.integer(num[i])/(1365.58+37.24*i)
print("a = ",a[i])
}
for(i in 1:8){
print(1365.58-37.24*i)
a[i] <- as.integer(num[i])/(1365.58+37.24*i)
print("a = "a[i])
}
for(i in 1:8){
print(1365.58-37.24*i)
a[i] <- as.integer(num[i])/(1365.58+37.24*i)
print("a = %d",a[i])
}
for(i in 1:8){
print(1365.58-37.24*i)
a[i] <- as.integer(num[i])/(1365.58+37.24*i)
print("a = ")
print(a[i])
}
for(i in 1:8){
a[i] <- as.integer(num[i])/(1365.58+37.24*i)
print(a[i])
}
for(i in 1:8){
a[i] <- as.integer(num[i])/(1365.58-37.24*i)
print(a[i])
}
a105 <- list(293.74,309.40,293.53,279.57)
a106 <- list(287.43,283.59,281.95,269.94)
a107 <- list(277.29,282.47,275.26,259.90)
a108 <- list(267.27,285.51,276.26,266.62)
library(lubridate)
data_monthly <- apply.monthly(data,colSums,na.rm = TRUE)
library(zoo)
data_monthly <- apply.monthly(data,colSums,na.rm = TRUE)
library(stat)
library(stats)
data_monthly <- apply.monthly(data,colSums,na.rm = TRUE)
library(quantmod)
data_monthly <- apply.monthly(data,colSums,na.rm = TRUE)
class(data)
#########################################
#EBday <- readRDS("EB_day_20180101_20210228_aug.rds")
#EBD <- data.frame(
#  Time = EBday$datetime,
#  Usage = EBday$EB
#)
###################################處理資料
data <- readRDS("data_daily.rds")
library(tidyverse)
library(dplyr) #包括函數: filter() select() mutate() arrange() summarise() group_by()
library(shiny)
library(shinydashboard) #分開寫法需要
library(ggplot2)
library(shinyWidgets) #設定網頁背景顏色等樣式
library(readxl) ##匯入excel需要的涵式庫
library(kableExtra)
library(intervals)
library(lubridate)
library(zoo)
library(xts)
library(dygraphs)
setwd("D:/NCTU_NOT_NYCU/Personal_Project/work")
staticEB2 <- as.data.frame(read_excel("static_EB2.xlsx"))
##################################實地勘察數據處理
table(staticEB2$category)
sum(table(table(staticEB2$category)))
glimpse(staticEB2$category)
table(glimpse(staticEB2$category))
parts <- sum(table(table(staticEB2$category)))
parts
staticEB2$category %>%
ggplot()
testing <- ggplot(parts)
testing <- ggplot(staticEB2$category)
testing <- ggplot(staticEB2$category) +
geom_bar(stat = "identity")
table(table(staticEB2$category))
sum(table(table(staticEB2$category)))
##################################實地勘察數據處理
table(staticEB2$category)
category <- rbind("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
View(category)
category <- cbind("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
View(category)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
category <- cbind()
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
category <- cbind(c(1,2,3,4,5,6,7,8))
View(category)
category <- cbind(1,2,3,4,5,6,7,8)
View(category)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
category <- cbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
View(category)
category[1]
colanmes(category[1])
colnames(category)
colnames(category[1])
colnames(category[2])
colnames(category[,1])
colnames(category[,0])
colnames(category[1,])
colnames(category[2,])
colnames(category[,-1])
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
list[1]
list[8]
length(list)
##################################實地勘察數據處理
#table(staticEB2$category)
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[i] += 1
}
}
}
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[i] = category[i] + 1
}
}
}
staticEB2$category[1]
class(staticEB2$category[1])
class(list[1])
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[i] = category[i] + 1
}
}
}
list[2]
list[5]
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[j] = category[i] + 1
}
}
}
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(is.na(staticEB2$category)){
if(staticEB2$category[i] == list[j]){
category[j] = category[i] + 1
}
}
}
}
category
##################################實地勘察數據處理
#table(staticEB2$category)
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(is.na(staticEB2$category)){
if(staticEB2$category[i] == list[j]){
category[j] = category[i] + 1
}
}
}
}
category
View(category)
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
category[,1]
category[,2]
category[,7]
View(category)
View(staticEB2)
is.na(category[,7])
is.na(category[,7])
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(is.na(staticEB2$category) == FALSE){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
}
View(category)
##################################實地勘察數據處理
#table(staticEB2$category)
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(is.na(staticEB2$category) == FALSE){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
}
staticEB2 <- as.data.frame(read_excel("static_EB2.xlsx"))
for(i in 1:length(staticEB2$category)){
for(j in 1:length(list)){
if(is.na(staticEB2$category) == FALSE){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
}
staticEB2 <- as.data.frame(read_excel("static_EB2.xlsx"))
##################################實地勘察數據處理
#table(staticEB2$category)
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
if(staticEB2$category[i] == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
}
##################################實地勘察數據處理
#table(staticEB2$category)
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
if(is.na(staticEB2$category[i]) == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
}
staticEB2 <- as.data.frame(read_excel("static_EB2.xlsx"))
for(i in 1:length(staticEB2$category)){
if(is.na(staticEB2$category[i]) == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category[,j] = category[,j] + 1
}
}
}
}
View(category)
##################################實地勘察數據處理
table(staticEB2$category)
View(category)
plot(category)
category <- ggplot(data = my.df, aes(x = category[,c(1:8)])) +
geom_bar(stat = "identity")
category %>% ggplot(aes(x = category[,c(1:8)])) +
geom_bar(stat = "identity")
ggplot(category,aes(x = category[,c(1:8)]))
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- rbind(0,0,0,0,0,0,0,0)
colnames(category) <- c("numbers")
View(category)
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office"),rbind(0,0,0,0,0,0,0,0))
View(category)
colnames(category) <- c("category","numbers")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
staticEB2 <- as.data.frame(read_excel("static_EB2.xlsx"))
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office"),rbind(0,0,0,0,0,0,0,0))
colnames(category) <- c("category","numbers")
View(category)
for(i in 1:length(staticEB2$category)){
if(is.na(staticEB2$category[i]) == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == category$category[j]){
category$numbers[j] = category$numbers[j] + 1
}
}
}
}
View(category)
View(category)
list(c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office"))
staticEB2 <- as.data.frame(read_excel("static_EB2.xlsx"))
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- cbind(c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office"),rbind(0,0,0,0,0,0,0,0))
colnames(category) <- c("category","numbers")
list(c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office"))
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
if(is.na(staticEB2$category[i]) == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category$numbers[j] = category$numbers[j] + 1
}
}
}
}
#sum(table(table(staticEB2$category))) 找出有幾種不同資料
category <- as.data.frame(cbind(c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office"),rbind(0,0,0,0,0,0,0,0)))
colnames(category) <- c("category","numbers")
list <- c("assistant_room","classroom","department_office","lab","library","lounge","meeting_room","office")
for(i in 1:length(staticEB2$category)){
if(is.na(staticEB2$category[i]) == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category$numbers[j] = category$numbers[j] + 1
}
}
}
}
class(category$numbers)
for(i in 1:length(staticEB2$category)){
if(is.na(staticEB2$category[i]) == FALSE){
for(j in 1:length(list)){
if(staticEB2$category[i] == list[j]){
category$numbers[j] = as.numeric(category$numbers[j]) + 1
}
}
}
}
View(category)
plot(category)
plotting <- ggplot(category,aes(x = "category",y = "numbers")) +
geom(stat = "identity")
plotting <- ggplot(category,aes(x = "category",y = "numbers")) +
geom_bar(stat = "identity")
plotting
plotting <- ggplot(category,aes(x = category,y = numbers)) +
geom_bar(stat = "identity")
plotting
